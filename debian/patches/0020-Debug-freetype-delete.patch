From: Mike Nolan <mpnolan@truefitness.com>
Date: Wed, 30 Nov 2016 13:45:42 -0600
Subject: Debug freetype delete

---
 modules/text_renderer/freetype.c |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

diff --git a/modules/text_renderer/freetype.c b/modules/text_renderer/freetype.c
index 8e21053..f94ed24 100644
--- a/modules/text_renderer/freetype.c
+++ b/modules/text_renderer/freetype.c
@@ -2868,8 +2868,18 @@ static int RenderCommon( filter_t *p_filter, subpicture_region_t *p_region_out,
     free( psz_text );
     for( int i = 0; i < i_text_length; i++ )
     {
-        if( pp_styles[i] && ( i + 1 == i_text_length || pp_styles[i] != pp_styles[i + 1] ) )
+      static int counter = 0;
+      counter++;
+        if( pp_styles[i] && ( i + 1 == i_text_length || pp_styles[i] != pp_styles[i + 1] ) ) {
+          if (counter % 100 == 0) {
+            msg_Warn( p_filter, "deleting pointer %p\n", pp_styles[i] );
+          }
             text_style_Delete( pp_styles[i] );
+        } else {
+          if (counter % 100 == 0) {
+            msg_Warn( p_filter, "skipping pointer %p\n", pp_styles[i] );
+          }
+        }
     }
     free( pp_styles );
     free( pi_k_durations );
-- 
